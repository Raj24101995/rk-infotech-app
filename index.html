<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RK INFOTECH - Business Management System</title>
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#2563eb">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiUksgSU5GT1RFQ0giLCJzaG9ydF9uYW1lIjoiUktJVCIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsInRoZW1lX2NvbG9yIjoiIzI1NjNlYiIsImJhY2tncm91bmRfY29sb3IiOiIjZmZmZmZmIn0=">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.5.31/dist/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="auth-screen">
        <div class="auth-container">
            <div class="auth-header">
                <img id="loginLogo" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iMTIiIGZpbGw9IiMyNTYzZWIiLz4KPHRleHQgeD0iMzAiIHk9IjM4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Uks8L3RleHQ+Cjwvc3ZnPg==" alt="RK INFOTECH">
                <h1>RK INFOTECH</h1>
                <p>Business Management System</p>
            </div>
            <div class="auth-card">
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                    <button class="auth-tab" onclick="switchAuthTab('reset')">Reset Password</button>
                </div>
                
                <!-- Login Form -->
                <div id="loginForm" class="auth-form active">
                    <form id="loginFormElement" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" id="loginEmail" class="form-control" placeholder="Enter your email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" id="loginPassword" class="form-control" placeholder="Enter your password" required>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width" id="loginBtn">
                            <span class="loading-spinner hidden"></span>
                            Sign In
                        </button>
                    </form>
                    <div class="auth-footer">
                        <p>Demo Credentials:</p>
                        <small>Admin: admin@rkinfotech.com / admin123</small><br>
                        <small>Employee: rajesh@rkinfotech.com / employee123</small>
                    </div>
                </div>

                <!-- Password Reset Form -->
                <div id="resetForm" class="auth-form">
                    <form id="resetFormElement" onsubmit="handlePasswordReset(event)">
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" id="resetEmail" class="form-control" placeholder="Enter your email" required>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width" id="resetBtn">
                            <span class="loading-spinner hidden"></span>
                            Send Reset Link
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Connection Status -->
        <div id="connectionStatus" class="connection-status">
            <div class="connection-indicator">
                <div class="connection-dot" id="connectionDot"></div>
                <span id="connectionText">Connecting to database...</span>
            </div>
            <div class="sync-status" id="syncStatus"></div>
        </div>

        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="company-logo" onclick="switchTab('dashboard')">
                    <img id="companyLogo" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzI1NjNlYiIvPgo8dGV4dCB4PSIyMCIgeT0iMjYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5SSzwvdGV4dD4KPHN2Zz4=" alt="RK INFOTECH">
                    <span class="company-name">RK INFOTECH</span>
                </div>
                <div class="user-info">
                    <div class="user-profile">
                        <span id="userName">User</span>
                        <span id="userRole" class="user-role">Employee</span>
                        <button class="btn btn--xs btn--outline" onclick="handleLogout()">Logout</button>
                    </div>
                    <div class="db-status" id="dbStatusIndicator">
                        <div class="status-dot" id="headerStatusDot"></div>
                        <span id="currentDate"></span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="container">
                    <div class="welcome-card">
                        <h2>Welcome Back, <span id="welcomeUser">User</span>!</h2>
                        <p>Manage your business operations efficiently with real-time sync</p>
                        <div class="cloud-status">
                            <span class="status-badge" id="cloudStatusBadge">
                                <span class="loading-dot"></span>
                                Syncing...
                            </span>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card" id="attendanceCard">
                            <div class="stat-icon">‚è∞</div>
                            <div class="stat-info">
                                <h3 id="attendanceStatus">Not Checked In</h3>
                                <p>Today's Status</p>
                                <div class="sync-indicator" id="attendanceSync"></div>
                            </div>
                        </div>
                        <div class="stat-card" id="employeesCard">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-info">
                                <h3 id="totalEmployees">
                                    <span class="loading-placeholder">-</span>
                                </h3>
                                <p>Total Employees</p>
                                <div class="sync-indicator" id="employeesSync"></div>
                            </div>
                        </div>
                        <div class="stat-card" id="vendorsCard">
                            <div class="stat-icon">üè¢</div>
                            <div class="stat-info">
                                <h3 id="totalVendors">
                                    <span class="loading-placeholder">-</span>
                                </h3>
                                <p>Active Vendors</p>
                                <div class="sync-indicator" id="vendorsSync"></div>
                            </div>
                        </div>
                        <div class="stat-card" id="workStatusCard">
                            <div class="stat-icon">üìä</div>
                            <div class="stat-info">
                                <h3 id="todayWorkStatus">
                                    <span class="loading-placeholder">-</span>
                                </h3>
                                <p>Today's Work Status</p>
                                <div class="sync-indicator" id="workStatusSync"></div>
                            </div>
                        </div>
                    </div>

                    <div class="quick-actions">
                        <h3>Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="btn btn--primary" onclick="switchTab('attendance')" id="clockBtn">
                                <span class="btn-icon">‚è∞</span>
                                Clock In/Out
                            </button>
                            <button class="btn btn--secondary" onclick="switchTab('workStatus')" id="workStatusBtn">
                                <span class="btn-icon">üìä</span>
                                Work Status
                            </button>
                            <button class="btn btn--secondary" onclick="switchTab('employees')" id="employeesBtn" data-admin-only>
                                <span class="btn-icon">üë•</span>
                                Manage Employees
                            </button>
                            <button class="btn btn--secondary" onclick="switchTab('vendors')" id="vendorsBtn" data-admin-only>
                                <span class="btn-icon">üè¢</span>
                                Manage Vendors
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Attendance Section -->
            <section id="attendance" class="section">
                <div class="container">
                    <div class="section-header">
                        <h2>Attendance Management</h2>
                        <div class="realtime-indicator" id="attendanceRealtime">
                            <div class="realtime-dot"></div>
                            <span>Live Updates</span>
                        </div>
                    </div>

                    <div class="attendance-card">
                        <div class="clock-status">
                            <div class="status-indicator" id="statusIndicator">
                                <div class="status-dot"></div>
                                <span id="currentStatus">Not Checked In</span>
                            </div>
                            <div class="current-time" id="currentTime"></div>
                        </div>

                        <div class="clock-actions">
                            <button id="clockInBtn" class="btn btn--primary btn--lg" onclick="clockIn()">
                                <span class="loading-spinner hidden"></span>
                                Clock In
                            </button>
                            <button id="clockOutBtn" class="btn btn--outline btn--lg" onclick="clockOut()" disabled>
                                <span class="loading-spinner hidden"></span>
                                Clock Out
                            </button>
                        </div>

                        <div class="work-hours">
                            <span>Today's Hours: <strong id="todayHours">0:00</strong></span>
                        </div>
                    </div>

                    <div class="attendance-history">
                        <div class="history-header">
                            <h3>Attendance History</h3>
                            <button class="btn btn--xs btn--secondary" onclick="refreshAttendanceHistory()" id="refreshAttendanceBtn">
                                <span class="loading-spinner hidden"></span>
                                Refresh
                            </button>
                        </div>
                        <div class="history-table">
                            <div class="table-header">
                                <span>Date</span>
                                <span>Check In</span>
                                <span>Check Out</span>
                                <span>Hours</span>
                                <span>Status</span>
                            </div>
                            <div id="attendanceHistoryList" class="table-body">
                                <div class="loading-row">
                                    <span class="loading-placeholder full-width">Loading attendance records...</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="monthly-summary">
                        <h3>Monthly Summary</h3>
                        <div class="summary-stats">
                            <div class="summary-item">
                                <span class="summary-label">Working Days</span>
                                <span class="summary-value" id="workingDays">22</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Present Days</span>
                                <span class="summary-value" id="presentDays">
                                    <span class="loading-placeholder">-</span>
                                </span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Absent Days</span>
                                <span class="summary-value" id="absentDays">
                                    <span class="loading-placeholder">-</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Work Status Section -->
            <section id="workStatus" class="section">
                <div class="container">
                    <div class="section-header">
                        <h2>Daily Work Status</h2>
                        <div class="realtime-indicator" id="workStatusRealtime">
                            <div class="realtime-dot"></div>
                            <span>Live Updates</span>
                        </div>
                    </div>

                    <div class="work-status-form">
                        <div class="form-section">
                            <h3>Today's Work Entry</h3>
                            <form id="workStatusFormElement" onsubmit="saveWorkStatus(event)">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Date</label>
                                        <input type="date" id="workDate" class="form-control" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Hours Worked</label>
                                        <input type="number" id="hoursWorked" class="form-control" step="0.5" min="0" max="12" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Project Name</label>
                                    <select id="projectName" class="form-control" required>
                                        <option value="">Select Project</option>
                                        <option value="RK Website Redesign">RK Website Redesign</option>
                                        <option value="Mobile App Development">Mobile App Development</option>
                                        <option value="E-commerce Platform">E-commerce Platform</option>
                                        <option value="CRM System">CRM System</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tasks Completed</label>
                                    <textarea id="tasksCompleted" class="form-control" rows="4" placeholder="List the tasks you completed today..." required></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Progress Notes</label>
                                    <textarea id="progressNotes" class="form-control" rows="3" placeholder="Any challenges faced or additional notes..."></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn--primary" id="saveWorkStatusBtn">
                                        <span class="loading-spinner hidden"></span>
                                        Save Work Status
                                    </button>
                                    <button type="button" class="btn btn--secondary" onclick="loadTodayWorkStatus()">
                                        Load Today's Entry
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="work-status-history">
                        <div class="history-header">
                            <h3>Work Status History</h3>
                            <button class="btn btn--xs btn--secondary" onclick="refreshWorkStatusHistory()" id="refreshWorkStatusBtn">
                                <span class="loading-spinner hidden"></span>
                                Refresh
                            </button>
                        </div>
                        <div class="work-status-list" id="workStatusHistoryList">
                            <div class="loading-card">
                                <p class="loading-text">Loading work status records...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Employees Section (Admin Only) -->
            <section id="employees" class="section admin-only">
                <div class="container">
                    <div class="section-header">
                        <h2>Employee Management</h2>
                        <div class="section-actions">
                            <button class="btn btn--secondary btn--sm" onclick="refreshEmployees()" id="refreshEmployeesBtn">
                                <span class="loading-spinner hidden"></span>
                                Refresh
                            </button>
                            <button class="btn btn--primary" onclick="showAddEmployeeModal()">Add New Employee</button>
                        </div>
                    </div>

                    <div class="employee-controls">
                        <div class="search-filter">
                            <input type="text" id="employeeSearch" class="form-control" placeholder="Search employees..." onkeyup="filterEmployees()">
                            <select id="departmentFilter" class="form-control" onchange="filterEmployees()">
                                <option value="">All Departments</option>
                                <option value="IT">IT</option>
                                <option value="Design">Design</option>
                                <option value="Sales">Sales</option>
                                <option value="HR">HR</option>
                                <option value="Finance">Finance</option>
                            </select>
                        </div>
                    </div>

                    <div class="employee-list" id="employeeList">
                        <div class="loading-card">
                            <div class="loading-skeleton">
                                <div class="skeleton-header"></div>
                                <div class="skeleton-content"></div>
                            </div>
                            <p class="loading-text">Loading employees from database...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Vendors Section (Admin Only) -->
            <section id="vendors" class="section admin-only">
                <div class="container">
                    <div class="section-header">
                        <h2>Vendor Management</h2>
                        <div class="section-actions">
                            <button class="btn btn--secondary btn--sm" onclick="refreshVendors()" id="refreshVendorsBtn">
                                <span class="loading-spinner hidden"></span>
                                Refresh
                            </button>
                            <button class="btn btn--primary" onclick="showAddVendorModal()">Add New Vendor</button>
                        </div>
                    </div>

                    <div class="vendor-controls">
                        <div class="search-filter">
                            <input type="text" id="vendorSearch" class="form-control" placeholder="Search vendors..." onkeyup="filterVendors()">
                            <select id="categoryFilter" class="form-control" onchange="filterVendors()">
                                <option value="">All Categories</option>
                                <option value="IT Services">IT Services</option>
                                <option value="Office Supplies">Office Supplies</option>
                                <option value="Equipment">Equipment</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Maintenance">Maintenance</option>
                            </select>
                        </div>
                    </div>

                    <div class="vendor-list" id="vendorList">
                        <div class="loading-card">
                            <div class="loading-skeleton">
                                <div class="skeleton-header"></div>
                                <div class="skeleton-content"></div>
                            </div>
                            <p class="loading-text">Loading vendors from database...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Payroll Section (Admin Only) -->
            <section id="payroll" class="section admin-only">
                <div class="container">
                    <div class="section-header">
                        <h2>Payroll Management</h2>
                        <div class="realtime-indicator" id="payrollRealtime">
                            <div class="realtime-dot"></div>
                            <span>Live Data</span>
                        </div>
                    </div>

                    <div class="payroll-form">
                        <div class="form-section">
                            <h3>Salary Generation</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Employee</label>
                                    <select id="employeeSelect" class="form-control" onchange="loadEmployeeDetails()">
                                        <option value="">Loading employees...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Salary Period</label>
                                    <input type="month" id="salaryPeriod" class="form-control" value="">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Employee ID</label>
                                    <input type="text" id="employeeId" class="form-control" readonly>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Designation</label>
                                    <input type="text" id="designation" class="form-control" readonly>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Salary Components</h3>
                            <div class="salary-components">
                                <div class="component-group">
                                    <h4>Earnings</h4>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label">Basic Salary</label>
                                            <input type="number" id="basicSalary" class="form-control" onchange="calculateSalary()">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">HRA</label>
                                            <input type="number" id="hra" class="form-control" onchange="calculateSalary()">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label">DA</label>
                                            <input type="number" id="da" class="form-control" onchange="calculateSalary()">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Medical Allowance</label>
                                            <input type="number" id="medicalAllowance" class="form-control" onchange="calculateSalary()">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label">Conveyance Allowance</label>
                                            <input type="number" id="conveyanceAllowance" class="form-control" onchange="calculateSalary()">
                                        </div>
                                    </div>
                                </div>

                                <div class="component-group">
                                    <h4>Deductions</h4>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label">PF (12%)</label>
                                            <input type="number" id="pf" class="form-control" onchange="calculateSalary()">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">ESI (0.75%)</label>
                                            <input type="number" id="esi" class="form-control" onchange="calculateSalary()">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label">Professional Tax</label>
                                            <input type="number" id="professionalTax" class="form-control" value="200" onchange="calculateSalary()">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Income Tax</label>
                                            <input type="number" id="incomeTax" class="form-control" onchange="calculateSalary()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="salary-summary">
                            <div class="summary-row">
                                <span>Gross Salary:</span>
                                <span id="grossSalary">‚Çπ0</span>
                            </div>
                            <div class="summary-row">
                                <span>Total Deductions:</span>
                                <span id="totalDeductions">‚Çπ0</span>
                            </div>
                            <div class="summary-row total">
                                <span>Net Salary:</span>
                                <span id="netSalary">‚Çπ0</span>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn--primary" onclick="previewSalarySlip()">Preview Salary Slip</button>
                            <button class="btn btn--secondary" onclick="downloadSalaryPDF()" id="downloadSalaryBtn" disabled>Download PDF</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-tab="dashboard" onclick="switchTab('dashboard')">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">Dashboard</span>
            </button>
            <button class="nav-item" data-tab="attendance" onclick="switchTab('attendance')">
                <span class="nav-icon">‚è∞</span>
                <span class="nav-label">Attendance</span>
            </button>
            <button class="nav-item" data-tab="workStatus" onclick="switchTab('workStatus')">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Work Status</span>
            </button>
            <button class="nav-item admin-only" data-tab="employees" onclick="switchTab('employees')">
                <span class="nav-icon">üë•</span>
                <span class="nav-label">Employees</span>
            </button>
            <button class="nav-item admin-only" data-tab="vendors" onclick="switchTab('vendors')">
                <span class="nav-icon">üè¢</span>
                <span class="nav-label">Vendors</span>
            </button>
            <button class="nav-item admin-only" data-tab="payroll" onclick="switchTab('payroll')">
                <span class="nav-icon">üí∞</span>
                <span class="nav-label">Payroll</span>
            </button>
        </nav>
    </div>

    <!-- Employee Management Modal -->
    <div id="employeeModal" class="modal hidden">
        <div class="modal-content employee-modal">
            <div class="modal-header">
                <h3 id="employeeModalTitle">Add New Employee</h3>
                <button class="modal-close" onclick="closeModal('employeeModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="employeeForm">
                    <div class="form-section">
                        <h4>Basic Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Employee ID</label>
                                <input type="text" id="empId" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Full Name</label>
                                <input type="text" id="empName" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Email Address (Login)</label>
                                <input type="email" id="empEmail" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" id="empPhone" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Designation</label>
                                <select id="empDesignation" class="form-control" required>
                                    <option value="">Select Designation</option>
                                    <option value="Software Developer">Software Developer</option>
                                    <option value="Senior Developer">Senior Developer</option>
                                    <option value="Tech Lead">Tech Lead</option>
                                    <option value="Project Manager">Project Manager</option>
                                    <option value="UI/UX Designer">UI/UX Designer</option>
                                    <option value="Business Analyst">Business Analyst</option>
                                    <option value="QA Engineer">QA Engineer</option>
                                    <option value="DevOps Engineer">DevOps Engineer</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Department</label>
                                <select id="empDepartment" class="form-control" required>
                                    <option value="">Select Department</option>
                                    <option value="IT">IT</option>
                                    <option value="Design">Design</option>
                                    <option value="Sales">Sales</option>
                                    <option value="Marketing">Marketing</option>
                                    <option value="HR">HR</option>
                                    <option value="Finance">Finance</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Role</label>
                                <select id="empRole" class="form-control" required>
                                    <option value="">Select Role</option>
                                    <option value="employee">Employee</option>
                                    <option value="admin">Administrator</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Join Date</label>
                                <input type="date" id="empJoinDate" class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Authentication Setup</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Initial Password</label>
                                <input type="password" id="empPassword" class="form-control" minlength="6">
                                <small>Leave blank for existing employees or auto-generated password</small>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Banking Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Bank Account Number</label>
                                <input type="text" id="empBankAccount" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">IFSC Code</label>
                                <input type="text" id="empIfsc" class="form-control">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">PAN Number</label>
                                <input type="text" id="empPan" class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Salary Components</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Basic Salary</label>
                                <input type="number" id="empBasicSalary" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">HRA Amount</label>
                                <input type="number" id="empHra" class="form-control">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">DA Amount</label>
                                <input type="number" id="empDa" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Medical Allowance</label>
                                <input type="number" id="empMedical" class="form-control">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Conveyance Allowance</label>
                                <input type="number" id="empConveyance" class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Additional Information</h4>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <textarea id="empAddress" class="form-control" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Emergency Contact</label>
                            <input type="tel" id="empEmergencyContact" class="form-control">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" onclick="saveEmployee()" id="saveEmployeeBtn">
                    <span class="loading-spinner hidden"></span>
                    Save Employee
                </button>
                <button class="btn btn--secondary" onclick="closeModal('employeeModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Vendor Management Modal -->
    <div id="vendorModal" class="modal hidden">
        <div class="modal-content vendor-modal">
            <div class="modal-header">
                <h3 id="vendorModalTitle">Add New Vendor</h3>
                <button class="modal-close" onclick="closeModal('vendorModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="vendorForm">
                    <div class="form-section">
                        <h4>Vendor Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Vendor ID</label>
                                <input type="text" id="vendorId" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Company Name</label>
                                <input type="text" id="vendorName" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Contact Person</label>
                                <input type="text" id="vendorContactPerson" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email Address</label>
                                <input type="email" id="vendorEmail" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" id="vendorPhone" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">GST Number</label>
                                <input type="text" id="vendorGst" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <textarea id="vendorAddress" class="form-control" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Service Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Service Category</label>
                                <select id="vendorCategory" class="form-control" required>
                                    <option value="">Select Category</option>
                                    <option value="IT Services">IT Services</option>
                                    <option value="Office Supplies">Office Supplies</option>
                                    <option value="Equipment">Equipment</option>
                                    <option value="Marketing">Marketing</option>
                                    <option value="Maintenance">Maintenance</option>
                                    <option value="Consulting">Consulting</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Payment Terms</label>
                                <select id="vendorPaymentTerms" class="form-control">
                                    <option value="15 days">15 days</option>
                                    <option value="30 days">30 days</option>
                                    <option value="45 days">45 days</option>
                                    <option value="60 days">60 days</option>
                                    <option value="Advance">Advance</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Service Description</label>
                            <textarea id="vendorServiceDesc" class="form-control" rows="2" placeholder="Brief description of services provided"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" onclick="saveVendor()" id="saveVendorBtn">
                    <span class="loading-spinner hidden"></span>
                    Save Vendor
                </button>
                <button class="btn btn--secondary" onclick="closeModal('vendorModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Document Preview Modal -->
    <div id="documentModal" class="modal hidden">
        <div class="modal-content document-modal">
            <div class="modal-header">
                <h3 id="documentTitle">Document Preview</h3>
                <button class="modal-close" onclick="closeModal('documentModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="documentPreview"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" onclick="printDocument()">Print</button>
                <button class="btn btn--secondary" onclick="closeModal('documentModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="confirmTitle">Confirm Action</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">Are you sure you want to perform this action?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" id="confirmOkBtn">OK</button>
                <button class="btn btn--secondary" onclick="closeModal('confirmModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Loading Modal -->
    <div id="loadingModal" class="modal hidden">
        <div class="modal-content">
            <div class="loading-spinner"></div>
            <p id="loadingMessage">Processing...</p>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container"></div>

    <script src="app.js"></script>
</body>
</html>