<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RK INFOTECH - Business Management App</title>
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#2563eb">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiUksgSU5GT1RFQ0giLCJzaG9ydF9uYW1lIjoiUktJVCIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsInRoZW1lX2NvbG9yIjoiIzI1NjNlYiIsImJhY2tncm91bmRfY29sb3IiOiIjZmZmZmZmIn0=">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="company-logo" onclick="switchTab('dashboard')">
                <img id="companyLogo" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzI1NjNlYiIvPgo8dGV4dCB4PSIyMCIgeT0iMjYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5SSzwvdGV4dD4KPC9zdmc+" alt="RK INFOTECH">
                <span class="company-name">RK INFOTECH</span>
            </div>
            <div class="user-info">
                <span id="currentDate"></span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="container">
                <div class="welcome-card">
                    <h2>Welcome Back!</h2>
                    <p>Manage your business operations efficiently</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚è∞</div>
                        <div class="stat-info">
                            <h3 id="attendanceStatus">Not Checked In</h3>
                            <p>Today's Status</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <h3 id="pendingSalaries">2</h3>
                            <p>Pending Salaries</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-info">
                            <h3 id="recentInvoices">5</h3>
                            <p>Recent Invoices</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-info">
                            <h3 id="monthlyHours">160</h3>
                            <p>Monthly Hours</p>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-buttons">
                        <button class="btn btn--primary" onclick="switchTab('attendance')">Clock In/Out</button>
                        <button class="btn btn--secondary" onclick="switchTab('payroll')">Generate Salary</button>
                        <button class="btn btn--secondary" onclick="switchTab('invoices')">Create Invoice</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Attendance Section -->
        <section id="attendance" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Attendance Management</h2>
                </div>

                <div class="attendance-card">
                    <div class="clock-status">
                        <div class="status-indicator" id="statusIndicator">
                            <div class="status-dot"></div>
                            <span id="currentStatus">Not Checked In</span>
                        </div>
                        <div class="current-time" id="currentTime"></div>
                    </div>

                    <div class="clock-actions">
                        <button id="clockInBtn" class="btn btn--primary btn--lg" onclick="clockIn()">Clock In</button>
                        <button id="clockOutBtn" class="btn btn--outline btn--lg" onclick="clockOut()" disabled>Clock Out</button>
                    </div>

                    <div class="work-hours">
                        <span>Today's Hours: <strong id="todayHours">0:00</strong></span>
                    </div>
                </div>

                <div class="attendance-history">
                    <h3>Attendance History</h3>
                    <div class="history-table">
                        <div class="table-header">
                            <span>Date</span>
                            <span>Check In</span>
                            <span>Check Out</span>
                            <span>Hours</span>
                        </div>
                        <div id="attendanceHistoryList" class="table-body">
                            <!-- History items will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <div class="monthly-summary">
                    <h3>Monthly Summary</h3>
                    <div class="summary-stats">
                        <div class="summary-item">
                            <span class="summary-label">Working Days</span>
                            <span class="summary-value" id="workingDays">22</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Present Days</span>
                            <span class="summary-value" id="presentDays">20</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Absent Days</span>
                            <span class="summary-value" id="absentDays">2</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Payroll Section -->
        <section id="payroll" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Payroll Management</h2>
                </div>

                <div class="payroll-form">
                    <div class="form-section">
                        <h3>Employee Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Employee</label>
                                <select id="employeeSelect" class="form-control" onchange="loadEmployeeDetails()">
                                    <option value="">Select Employee</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Employee ID</label>
                                <input type="text" id="employeeId" class="form-control" readonly>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Designation</label>
                                <input type="text" id="designation" class="form-control" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Salary Components</h3>
                        <div class="salary-components">
                            <div class="component-group">
                                <h4>Earnings</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Basic Salary</label>
                                        <input type="number" id="basicSalary" class="form-control" onchange="calculateSalary()">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">HRA</label>
                                        <input type="number" id="hra" class="form-control" onchange="calculateSalary()">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">DA</label>
                                        <input type="number" id="da" class="form-control" onchange="calculateSalary()">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Medical Allowance</label>
                                        <input type="number" id="medicalAllowance" class="form-control" onchange="calculateSalary()">
                                    </div>
                                </div>
                            </div>

                            <div class="component-group">
                                <h4>Deductions</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">PF</label>
                                        <input type="number" id="pf" class="form-control" onchange="calculateSalary()">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ESI</label>
                                        <input type="number" id="esi" class="form-control" onchange="calculateSalary()">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Professional Tax</label>
                                        <input type="number" id="professionalTax" class="form-control" onchange="calculateSalary()">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Income Tax</label>
                                        <input type="number" id="incomeTax" class="form-control" onchange="calculateSalary()">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="salary-summary">
                        <div class="summary-row">
                            <span>Gross Salary:</span>
                            <span id="grossSalary">‚Çπ0</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Deductions:</span>
                            <span id="totalDeductions">‚Çπ0</span>
                        </div>
                        <div class="summary-row total">
                            <span>Net Salary:</span>
                            <span id="netSalary">‚Çπ0</span>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn--primary" onclick="generateSalarySlip()">Generate Salary Slip</button>
                        <button class="btn btn--secondary" onclick="saveSalaryData()">Save</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Invoices Section -->
        <section id="invoices" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Invoice Management</h2>
                </div>

                <div class="invoice-form">
                    <div class="form-section">
                        <h3>Client Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Client</label>
                                <select id="clientSelect" class="form-control" onchange="loadClientDetails()">
                                    <option value="">Select Client</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Client Name</label>
                                <input type="text" id="clientName" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">GST Number</label>
                                <input type="text" id="clientGst" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <textarea id="clientAddress" class="form-control" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Invoice Items</h3>
                        <div id="invoiceItems">
                            <div class="invoice-item">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Service</label>
                                        <select class="form-control service-select" onchange="loadServiceDetails(this)">
                                            <option value="">Select Service</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Quantity</label>
                                        <input type="number" class="form-control quantity-input" onchange="calculateInvoice()" value="1">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Rate</label>
                                        <input type="number" class="form-control rate-input" onchange="calculateInvoice()">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Amount</label>
                                        <input type="number" class="form-control amount-input" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Description</label>
                                    <input type="text" class="form-control description-input">
                                </div>
                            </div>
                        </div>
                        <button class="btn btn--secondary" onclick="addInvoiceItem()">Add Item</button>
                    </div>

                    <div class="invoice-summary">
                        <div class="summary-row">
                            <span>Subtotal:</span>
                            <span id="subtotal">‚Çπ0</span>
                        </div>
                        <div class="summary-row">
                            <span>CGST (9%):</span>
                            <span id="cgst">‚Çπ0</span>
                        </div>
                        <div class="summary-row">
                            <span>SGST (9%):</span>
                            <span id="sgst">‚Çπ0</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total Amount:</span>
                            <span id="totalAmount">‚Çπ0</span>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn--primary" onclick="generateInvoice()">Generate Invoice</button>
                        <button class="btn btn--secondary" onclick="saveInvoiceData()">Save Draft</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Settings</h2>
                </div>

                <div class="settings-groups">
                    <div class="settings-group">
                        <h3>Company Information</h3>
                        <div class="form-group">
                            <label class="form-label">Company Logo</label>
                            <input type="file" id="logoUpload" class="form-control" accept="image/*" onchange="uploadLogo()">
                            <div class="logo-preview" id="logoPreview"></div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Company Name</label>
                                <input type="text" id="companyName" class="form-control" value="RK INFOTECH">
                            </div>
                            <div class="form-group">
                                <label class="form-label">GST Number</label>
                                <input type="text" id="companyGst" class="form-control" value="29ABCDE1234F1Z5">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <textarea id="companyAddress" class="form-control" rows="3">123 Tech Park, Bangalore, Karnataka 560001</textarea>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3>Templates</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Invoice Template</label>
                                <select id="invoiceTemplate" class="form-control">
                                    <option value="template1">Professional Blue</option>
                                    <option value="template2">Corporate Green</option>
                                    <option value="template3">Modern Purple</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Salary Template</label>
                                <select id="salaryTemplate" class="form-control">
                                    <option value="salary1">Standard Template</option>
                                    <option value="salary2">Professional Template</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3>Data Management</h3>
                        <div class="data-actions">
                            <button class="btn btn--secondary" onclick="exportData()">Export Data</button>
                            <button class="btn btn--outline" onclick="clearData()">Clear All Data</button>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn btn--primary" onclick="saveSettings()">Save Settings</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-tab="dashboard" onclick="switchTab('dashboard')">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Dashboard</span>
        </button>
        <button class="nav-item" data-tab="attendance" onclick="switchTab('attendance')">
            <span class="nav-icon">‚è∞</span>
            <span class="nav-label">Attendance</span>
        </button>
        <button class="nav-item" data-tab="payroll" onclick="switchTab('payroll')">
            <span class="nav-icon">üí∞</span>
            <span class="nav-label">Payroll</span>
        </button>
        <button class="nav-item" data-tab="invoices" onclick="switchTab('invoices')">
            <span class="nav-icon">üìã</span>
            <span class="nav-label">Invoices</span>
        </button>
        <button class="nav-item" data-tab="settings" onclick="switchTab('settings')">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span class="nav-label">Settings</span>
        </button>
    </nav>

    <!-- Loading Modal -->
    <div id="loadingModal" class="modal hidden">
        <div class="modal-content">
            <div class="loading-spinner"></div>
            <p>Processing...</p>
        </div>
    </div>

    <!-- Document Preview Modal -->
    <div id="documentModal" class="modal hidden">
        <div class="modal-content document-modal">
            <div class="modal-header">
                <h3 id="documentTitle">Document Preview</h3>
                <button class="modal-close" onclick="closeModal('documentModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="documentPreview"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" onclick="downloadDocument()">Download</button>
                <button class="btn btn--secondary" onclick="printDocument()">Print</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>